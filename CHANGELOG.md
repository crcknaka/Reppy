# Changelog - FitTrack

## Последние изменения

### Удаление упоминаний Lovable
- Удалены все упоминания "lovable" из проекта
- Обновлен README.md с описанием проекта FitTrack
- Удалена зависимость `lovable-tagger` из package.json
- Обновлены meta-теги в index.html

### Обновление списка упражнений
Заменены все предустановленные упражнения на русскоязычные:

**Упражнения с собственным весом (bodyweight):**
1. Отжимания
2. Приседания
3. Пресс
4. Подтягивания

**Упражнения с весом (weighted):**
5. Штанга лёжа
6. Гантели Плечи
7. Гантели Бицепс

### Добавлена функциональность отслеживания веса тела

#### База данных:
- Добавлено поле `current_weight` в таблицу `profiles` для хранения текущего веса пользователя
- Создана таблица `body_weight_history` для отслеживания истории изменения веса
- Добавлены RLS политики для безопасного доступа к данным о весе

#### Функциональность:
1. **Страница Прогресс (`Progress.tsx`)**:
   - Добавлена кнопка "Добавить вес" для записи нового замера веса
   - Добавлен график изменения веса тела за последние 30 дней
   - Отображается текущий вес пользователя
   - Объём теперь правильно рассчитывается с учётом веса тела для упражнений с собственным весом

2. **Страница деталей тренировки (`WorkoutDetail.tsx`)**:
   - Добавлено отображение общего объёма тренировки
   - Объём учитывает вес тела для упражнений с собственным весом

3. **Утилиты (`volumeUtils.ts`)**:
   - Создана утилита для расчёта объёма тренировок
   - Для упражнений с собственным весом используется вес тела пользователя
   - Для упражнений с весом используется записанный вес

#### Типы TypeScript:
- Обновлены типы Supabase для поддержки новых таблиц и полей

## Как применить изменения

### Если база данных уже создана:
Вам нужно будет сбросить базу данных и применить миграцию заново:
```bash
cd supabase
supabase db reset
```

### Если база данных ещё не создана:
Просто запустите миграции:
```bash
cd supabase
supabase db push
```

### Установка зависимостей:
```bash
npm install
```

### Запуск проекта:
```bash
npm run dev
```

## Формула расчёта объёма

**Для упражнений с весом (weighted):**
```
Объём = Повторения × Вес (кг)
```

**Для упражнений с собственным весом (bodyweight):**
```
Объём = Повторения × Вес тела (кг)
```

Если вес тела не указан, для упражнений с собственным весом объём = количество повторений.

